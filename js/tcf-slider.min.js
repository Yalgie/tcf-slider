"use strict";jQuery.fn.tcf_slider=function(e){var n={loop:!0,auto:!0,transition:"fade",activeCrumbColor:"#2FD565"},i=$.extend({},n,e),a={init:function(){a.defineWrapElements(),a.defineElements(),a.buildWrappers(),a.buildPrevBtn(),a.buildImages(),a.buildNextBtn(),a.buildCrumbs(),a.bindClickEvents(),a.bindKeyboardEvents(),a.bindBlurEvents(),a.bindMouseOverEvents(),a.checkLoop()},defineWrapElements:function(){i.eles.mainWrap=$("<div class='tcf-slider-wrap' />"),i.eles.imageWrap=$("<div class='tcf-slider-image-wrap' />"),i.eles.prevWrap=$("<div tabindex='0' class='tcf-slider-prev-wrap' />"),i.eles.nextWrap=$("<div tabindex='0' class='tcf-slider-next-wrap' />"),i.eles.crumbWrap=$("<div class='tcf-slider-crumb-wrap' />")},defineElements:function(){i.eles.prevBtn=$("<span class='tcf-slider-prev-btn'>&laquo;</span>"),i.eles.image=$("<img class='tcf-slider-image' />"),i.eles.nextBtn=$("<span class='tcf-slider-next-btn'>&raquo;</span>"),i.eles.crumb=$("<span tabindex='0' class='tcf-slider-crumb'>&bull;</span>")},buildWrappers:function(){i.eles.main.append(i.eles.mainWrap),i.eles.mainWrap.append(i.eles.prevWrap),i.eles.mainWrap.append(i.eles.imageWrap),i.eles.mainWrap.append(i.eles.nextWrap),i.eles.mainWrap.append(i.eles.crumbWrap)},buildPrevBtn:function(){i.eles.prevWrap.append(i.eles.prevBtn)},buildImages:function(){i.images.map(function(e,n){i.eles.imageWrap.append(i.eles.image.clone().hide().attr("src",e.src).attr("alt",e.alt).attr("title",e.caption))}),i.eles.imageWrap.children().first().show()},buildNextBtn:function(){i.eles.nextWrap.append(i.eles.nextBtn)},buildCrumbs:function(){i.images.map(function(e,n){i.eles.crumbWrap.append(i.eles.crumb.clone())}),i.eles.crumbWrap.children().first().addClass("active")},bindClickEvents:function(){i.eles.prevWrap.on("click",function(){a.changeImage("prev")}),i.eles.nextWrap.on("click",function(){a.changeImage("next")}),i.eles.crumbWrap.children().on("click",function(){a.changeImage("crumb",$(this).index())})},bindKeyboardEvents:function(){i.eles.prevWrap.on("keydown",function(e){13==e.which&&a.changeImage("prev",$(this).index())}),i.eles.nextWrap.on("keydown",function(e){13==e.which&&a.changeImage("next",$(this).index())}),i.eles.crumbWrap.children().on("keydown",function(e){13==e.which&&a.changeImage("crumb",$(this).index())})},bindBlurEvents:function(){i.eles.prevWrap.on("mouseout",function(){$(this).blur()}),i.eles.nextWrap.on("mouseout",function(){$(this).blur()}),i.eles.crumbWrap.children().on("mouseout",function(){$(this).blur()})},bindMouseOverEvents:function(){i.eles.prevWrap.on("mouseover",function(){$(this).focus()}),i.eles.nextWrap.on("mouseover",function(){$(this).focus()}),i.eles.crumbWrap.children().on("mouseover",function(){$(this).focus()})},changeImage:function(e,n){var s,r=i.eles.crumbWrap.find(".active").index();s="prev"==e?r-1:"next"==e?r+1:n,void 0==i.images[s]&&(s="prev"==e?i.images.length-1:0),a.transitionImage(r,s),a.updateCrumb(s),a.checkLoop()},transitionImage:function(e,n){"none"==i.transition?(i.eles.imageWrap.children().eq(e).hide(),i.eles.imageWrap.children().eq(n).show()):"fade"==i.transition&&i.eles.imageWrap.children().eq(e).fadeOut(function(){i.eles.imageWrap.children().eq(n).fadeIn()})},updateCrumb:function(e){i.eles.crumbWrap.find(".active").removeClass("active"),i.eles.crumbWrap.children().eq(e).addClass("active")},checkLoop:function(){var e=i.eles.crumbWrap.find(".active").index(),n=i.images[e+1];i.loop||(0==e?i.eles.prevWrap.fadeOut():i.eles.prevWrap.fadeIn(),void 0==n?i.eles.nextWrap.fadeOut():i.eles.nextWrap.fadeIn())}};return this.each(function(){i.eles={},i.eles.main=$(this),a.init(this)})};